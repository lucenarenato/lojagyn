!function($){"use strict";var e=e||{},e={init:function(){this.defaultConfig(),this.bindEvents()},defaultConfig:function(){var e=this;e.$document=$(document),e.$window=$(window),e.$html=$("html"),e.$body=$("body"),e.$isTouch=!!e.$html.hasClass("touch"),e.$adminbar=$("#wp-toolbar").parent(),e.$adminbarHeight=e.$adminbar.length?e.$adminbar.outerHeight():0,e.$topBar=$("#top-bar"),e.$campaignBar=$(".et-global-campaign"),e.$header=$("#header"),e.$headerHeight=e.$header.outerHeight(),e.$wrapper=$("#wrapper"),e.$clickCapture=$(".click-capture"),e.$floatingLabels=!!e.$body.hasClass("floating-labels"),e.$headerIsTransparent=!!e.$body.hasClass("page-header-transparent"),e.$headerIsFixed=!!e.$body.hasClass("header-sticky"),e.$productIsFixed=!!e.$body.hasClass("fixed-product-bar"),e.$productFixedTop=!!e.$body.hasClass("fixed-product-bar-top"),e.$isLoginPopup=!!e.$body.hasClass("et-login-popup"),e.$shopWrap=$("#shop-products"),e.$wcfmmp=$("#wcfmmp-store-content"),e.$isShop=!(!e.$shopWrap.length&&!e.$wcfmmp.length),e.scrollInfinite=!1,e.$singleProductWrap=$(".et-product-detail"),e.$isProduct=!!e.$singleProductWrap.length,e.$productShowcase=e.$singleProductWrap.find(".showcase-active"),e.$isProductShowcase=!!e.$productShowcase.length,e.$isCheckout=!(!e.$body.hasClass("woocommerce-checkout")||e.$body.hasClass("woocommerce-order-received")),e.$isBareCheckout=!!e.$body.hasClass("checkout-distraction-free"),e.$quickCartBtn=$(".quick_cart"),e.miniCartAjax=null,e.ajaxMiniCart="mini-cart"==goya_theme_vars.settings.cart_icon,e.miniCartAuto=1==e.ajaxMiniCart&&1==goya_theme_vars.settings.minicart_auto,e.$menuToggle=$(".mobile-toggle"),e.$fullscreenToggle=$(".fullscreen-toggle"),e.$sideFilters=$("#side-filters"),e.$cc_close=$(".et-close"),e.$mobileDet=new MobileDetect(window.navigator.userAgent),e.$zoomEnabled=!e.$isTouch&&$(".product-showcase .product-gallery").hasClass("zoom-enabled"),e.$lightboxDisabled=$(".product-showcase .product-gallery").hasClass("lightbox-disabled"),e.$shopFiltersTop=!!$(".shop-container").hasClass("shop-sidebar-header"),e.$showListVariations=!!$(".et-main-products").hasClass("et-shop-show-variations"),e.$showHoverImage=!!$(".et-main-products").hasClass("et-shop-hover-images"),e.$prodAccordion=!!$(".woocommerce-tabs").hasClass("tabs-accordion")},bindEvents:function(){var a=this;a.preloadOverlay(),a.animation(),a.$mobileDet.mobile()&&a.fixVH(),a.$floatingLabels&&a.formStyling(),a.$isShop&&(a.$shopFiltersTop&&a.shopFiltersHeader(),a.$mobileDet.mobile()||a.shopCatSeparator(),a.shopFilterWidgets(),a.shopDisplaySwitch(),a.shopInfiniteScrolling()),a.$isProduct&&(a.$prodAccordion&&a.productDetAccordion(),a.productFeaturedVideo(),a.$isProductShowcase&&!a.$mobileDet.mobile()&&a.singleProductShowcase(),a.productCommentForm(),a.flexsliderGallery(),a.$zoomEnabled&&a.productZoomGallery(),a.$lightboxDisabled&&a.productLightboxGallery(),a.$productIsFixed&&a.stickyProductBar()),a.quantityButtons(),goya_theme_vars.settings.is_cart&&a.cartPage(),a.$isCheckout&&(a.checkoutOrder(),1==goya_theme_vars.settings.checkoutTermsPopup&&a.termsPopup()),a.$isCheckout&&a.$isBareCheckout||(a.$headerIsFixed&&a.stickyHeader(),a.$mobileDet.mobile()||a.megaMenu(),a.slickCarousel(),a.relatedProductsSlider(),a.sidePanels(),a.customScrollBars(),a.ajaxAddToCart(),a.miniCartSetup(),a.shopCartUpdate(),a.productQuickView(),a.masonryLayout(),a.$showListVariations&&a.productListVariations(),a.$isLoginPopup&&a.loginPopup(),a.loginForm(),a.singleProductVariations(),a.blogInfiniteScrolling(),a.magnificInline(),a.mfpLightbox(),a.ajaxSearch(),a.countdownTimer(),a.campaignBar()),a.toggleFooterWidgets(),a.wishlistCounter(),a.toTopBtn(),a.mfpGallery(),a.mfpAutomatic(),a.$window.on("load",function(){}),a.$window.on("resize",_.debounce(function(){a.$headerHeight=a.$header.outerHeight(),a.$adminbar.length&&(a.$adminbarHeight=a.$adminbar.outerHeight())},10)).trigger("resize"),a.$window.scroll(function(){a.fixedContent()}),a.$window.on("orientationchange",function(){}),a.$document.on("woof_ajax_done",function(e){var t=$("#shop-products .shop_bar"),o=a.$headerHeight;a.$adminbar.length&&"fixed"==a.$adminbar.css("position")&&(o+=a.$adminbarHeight),$("html, body").animate({scrollTop:t.offset().top-o-15},200),"scroll"===goya_theme_vars.settings.shop_infinite_load&&(a.$window.off("scroll",a.scrollInfinite),a.shopInfiniteScrolling(!0)),a.shopActiveFiltersCount(0)}),$.each(["show","hide"],function(e,t){var o=$.fn[t];$.fn[t]=function(){return this.trigger(t),o.apply(this,arguments)}})},preloadOverlay:function(){var t;1==goya_theme_vars.settings.pageLoadTransition&&(t=$("html").data("showOverlay")||"yes",this.isIos=navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i),$("a").on("click",function(e){t=$(this).hasClass("download-on-click")||"#"==$(this).attr("href")?($("html").data("showOverlay","no"),"no"):($("html").data("showOverlay","yes"),"yes")}),this.isIos||$(window).on("beforeunload",function(e){"yes"===t?$("html").removeClass("et-page-loaded"):($("html").data("showOverlay","yes"),t="yes")}),"onpagehide"in window?window.addEventListener("pageshow",function(){setTimeout(function(){$("html").addClass("et-page-loaded")},200)},!1):setTimeout(function(){$("html").addClass("et-page-loaded")},200),setTimeout(function(){$("html").addClass("et-page-loaded")},3e3),$("body").removeClass("et-preload"))},campaignBar:function(){var t=this;$(".et-close",t.$campaignBar).on("click",function(e){e.preventDefault(),t.$isProductShowcase&&t.singleProductShowcase(!0),t.$campaignBar.slideUp("400",function(){t.$campaignBar.remove(),t.$body.removeClass("has-campaign-bar"),$.cookie("et-global-campaign","1",{expires:1,path:"/"})})})},stickyHeader:function(){var i=this,s="header_on_scroll";function e(){var e=!(!i.$topBar.length||i.$topBar.parent().hasClass("site-header")||!i.$topBar.is(":visible")),t=!(!i.$campaignBar.length||!i.$campaignBar.is(":visible")),o=!!i.$adminbar.length,a=!!i.$body.hasClass("et-site-layout-framed"),e=e?i.$topBar.outerHeight(!0):0;a&&(e+=parseInt($("#wrapper").css("padding-top"))),t&&(e+=i.$campaignBar.outerHeight(!0)),o&&$(window).width()<601&&(e+=i.$adminbarHeight),i.$document.scrollTop()>e?(i.$body.hasClass(s)||i.$body.addClass(s),i.$body.removeClass("megamenu-active")):i.$document.scrollTop()<e&&0<i.$document.scrollTop()&&!i.$body.hasClass("megamenu-active")?i.$body.hasClass(s)&&i.$body.removeClass(s):i.$body.hasClass("megamenu-active")||i.$body.removeClass(s)}e(),i.$window.on("scroll.sticky_header",function(){i.$body.hasClass("header-sticky")||i.$body.hasClass("megamenu-active")?e():i.$body.removeClass(s)}).trigger("scroll.sticky_header"),i.$window.on("resize",_.debounce(function(){e()},10)).trigger("resize")},megaMenu:function(){var e,t,o,a,i=this;(i.$body.hasClass("megamenu-fullwidth")||i.$body.hasClass("page-header-transparent"))&&(a=!(!i.$topBar.length||i.$topBar.parent().hasClass("site-header")||!i.$topBar.is(":visible")),e=!(!i.$campaignBar.length||!i.$campaignBar.is(":visible")),a=a?i.$topBar.outerHeight(!0):0,t=e?a+i.$campaignBar.outerHeight(!0):a,o="header_on_scroll",a=$(".et-header-menu > li.menu-item-mega-parent"),i.$body.removeClass(o),a.on({mouseenter:function(){i.$body.hasClass("megamenu-active")||i.$body.hasClass(o)||i.$body.addClass("megamenu-active").addClass(o)}}),a.parent(".et-header-menu").on({mouseleave:function(){i.$body.hasClass("megamenu-active")&&i.$document.scrollTop()<=t&&i.$body.removeClass(o).removeClass("megamenu-active")}}))},stickyProductBar:function(){var t=this,e=$(".sticky-product-bar"),o=$(".product-information").find("form.cart"),a=o.find($("button.single_add_to_cart_button:not(.single_buy_now_button)")),i="product_on_scroll";t.$window.scroll(_.debounce(function(){t.$window.scrollTop()>$(".product-showcase .product_title").offset().top?(e.addClass("active"),t.$body.addClass("product-bar-visible"),t.$body.hasClass(i)||t.$body.addClass(i)):(e.removeClass("active"),t.$body.removeClass("product-bar-visible"),t.$body.hasClass(i)&&t.$body.removeClass(i))},20)),$(".sticky_add_to_cart").on("click",function(e){return e.preventDefault(),a.is(".disabled")||(o=a),a.trigger("click"),$("html, body").animate({scrollTop:o.offset().top-t.$headerHeight-t.$adminbarHeight-20},200),!1})},slickCarousel:function(e){var b=this;function C(e,t){e.$bannerContent=t.find(".et-banner-text-inner"),e.$bannerItem=t.find(".et-banner"),e.$bannerContent.length&&(e.bannerAnimation=e.$bannerContent.data("animate"),e.$bannerContent.addClass(e.bannerAnimation)),e.removeClass("banner-light"),e.$bannerItem.hasClass("text-color-light")&&e.addClass("banner-light")}(e?e.addClass("slick"):$(".slick")).each(function(){var a=$(this),e=a.data("columns")?a.data("columns"):1,t=a.data("mobile-columns")?a.data("mobile-columns"):1,o=a.data("slides-to-scroll")?a.data("slides-to-scroll"):a.hasClass("et-main-products")?e:1,i=!1!==a.data("infinite"),s=!0===a.data("navigation"),n=a.data("speed")?a.data("speed"):600,r=!0===a.data("autoplay"),l=a.data("autoplay-speed")?a.data("autoplay-speed"):2500,c=!0===a.data("pagination"),d=!0===a.data("adaptive-height"),u=!!a.data("center")&&a.data("center"),h=!!a.data("disablepadding")&&a.data("disablepadding"),p=!0===a.data("fade"),m=!0===a.data("vertical"),f=a.data("asnavfor"),g=e<6?e:m?e-1:6,v=e<4?e:m?e-1:4,w=e<3?e:m?e-1:3,y=e<2?e:m?e-1:2,h={dots:c,arrows:s,adaptiveHeight:d,infinite:i,speed:n,centerMode:u,slidesToShow:e,slidesToScroll:o,rtl:b.$body.hasClass("rtl"),autoplay:r,autoplaySpeed:l,centerPadding:h?0:"10%",pauseOnHover:!0===a.data("pause"),edgeFriction:.15,touchThreshold:30,rows:0,vertical:m,verticalSwiping:m,fade:p,prevArrow:'<a class="slick-prev">'+goya_theme_vars.icons.prev_arrow+"</a>",nextArrow:'<a class="slick-next">'+goya_theme_vars.icons.next_arrow+"</a>",responsive:[{breakpoint:1441,settings:{slidesToShow:g,slidesToScroll:1==o?1:g,centerPadding:h?0:"40px"}},{breakpoint:1200,settings:{slidesToShow:v,slidesToScroll:1==o?1:v,centerPadding:h?0:"40px"}},{breakpoint:992,settings:{slidesToShow:w,slidesToScroll:1==o?1:w,centerPadding:h?0:"40px",swipe:!0}},{breakpoint:768,settings:{slidesToShow:y,slidesToScroll:1==o?1:y,centerPadding:h?0:"40px",swipe:!0}},{breakpoint:576,settings:{slidesToShow:t,slidesToScroll:1==o?1:t,centerPadding:h?0:"15px",swipe:!0}}]};a.data("slick")&&(h=a.data("slick")),f&&$(f).is(":visible")&&(h.asNavFor=f),a.hasClass("et-banner-slider")&&(a.children().wrap("<div></div>"),a.on("init",function(){C(a,a.find(".slick-track .slick-active"));var e=a.find(".slick-cloned").first();e.length&&e.find(".image-type-css .et-banner-image").each(function(){var e=$(this).data("image");e&&$(this).append('<img src="'+e+'">')})}),a.on("afterChange",function(e,t,o){a.slideIndex!=o&&(a.slideIndex=o,a.$bannerContent&&a.$bannerContent.removeClass(a.bannerAnimation),C(a,a.find(".slick-track .slick-active")))}),a.on("setPosition",function(e,t){t=$(t.$slides[t.currentSlide]).children(".et-banner");t.hasClass("has-alt-image")&&t.children(".et-banner-alt-image").is(":visible")?a.addClass("alt-image-visible"):a.removeClass("alt-image-visible")})),a.hasClass("product-thumbnails")&&(h.swipeToSlide=!0,h.responsive[1].settings.slidesToShow=6),a.hasClass("et_location_list")&&(h.swipeToSlide=!0,h.responsive[2].settings.slidesToShow=3,h.responsive[3].settings.vertical=!1,h.responsive[4].settings.vertical=!1),a.hasClass("et-image-slider")&&a.on("init",function(){_.delay(function(){a.slick("setPosition")},150)}),$(".vc_tta-tab a").on("click",function(){var e=$(this).attr("href"),t=$(e).find(".slick-initialized");t.length&&_.delay(function(){t.slick("setPosition")},50)}),u&&a.on("init",function(){a.addClass("centered")}),a.on("beforeChange",function(e,t,o,a){t.$slides&&_.delay(function(){b.$window.trigger("scroll.et-animation")},150)}),a.on("breakpoint",function(e,t,o){t.$slides.data("et-animated",!1),b.$window.trigger("scroll.et-animation")}),a.on("afterChange",function(e,t,o,a){t.$slides&&b.$window.trigger("scroll.et-animation")}),a.on("setPosition",function(e,t){t.$slides&&b.$window.trigger("scroll.et-animation")}),a.not(".slick-initialized").slick(h)})},sidePanels:function(){var t=this,e=$("#mobile-menu-container"),o=e.find('li:has(".sub-menu")>a').next(".et-menu-toggle");function a(e){"play"==e?(t.$body.addClass("panel-open-menu"),t.$html.css("width","auto").css("overflow","hidden"),t.$fullscreenToggle.addClass("clicked")):(t.$body.removeClass("panel-open-menu"),t.$html.css("width","").css("overflow",""),t.$fullscreenToggle.removeClass("clicked"))}function i(e){"play"==e?(t.$body.addClass("panel-open-menu"),t.$html.css("width","auto").css("overflow","hidden"),t.$menuToggle.addClass("clicked")):(t.$body.removeClass("panel-open-menu"),t.$html.css("width","").css("overflow",""),t.$menuToggle.removeClass("clicked"))}function s(e){"play"==e?(t.$body.addClass("panel-open-search"),t.$html.css("width","auto").css("overflow","hidden"),$(".search-panel .search-field").focus()):(t.$body.removeClass("panel-open-search"),t.$html.css("width","").css("overflow",""))}function n(e){"play"==e?(t.$body.addClass("panel-open-cart"),i("reverse"),t.$html.css("width","auto").css("overflow","hidden")):(t.$body.removeClass("panel-open-cart"),t.$html.css("width","").css("overflow",""))}function r(e){"play"==e?(t.$sideFilters.removeAttr("style"),t.$body.addClass("panel-open-filters"),t.$html.css("width","auto").css("overflow","hidden"),i("reverse")):(t.$body.removeClass("panel-open-filters"),t.$html.css("width","").css("overflow",""))}t.$body.on("click",".fullscreen-toggle",function(){return t.$menuToggle.hasClass("clicked")?a("reverse"):a("play"),!1}),$(".big-menu > li").first().addClass("active-big"),$(".big-menu > li").on({mouseenter:function(){$(this).siblings().removeClass("active-big"),$(this).addClass("active-big")}}),t.$body.on("click",".mobile-toggle",function(){return t.$menuToggle.hasClass("clicked")&&!t.$menuToggle.hasClass("goya-animation-js")?i("reverse"):i("play"),!1}),t.$body.on("click",".quick_search",function(){return s("play"),!1}),e.children().hasClass("menu-sliding")?e.slidingMenu({className:"mobile-menu",transitionDuration:200,dataJSON:!1,initHref:!1,backLabel:goya_theme_vars.l10n.back}):o.on("click",function(e){var t=$(this),o=t.closest("li"),t=t.next(".sub-menu");o.hasClass("active")?(t.removeClass("open"),t.slideUp("100",function(){o.removeClass("active")})):(t.addClass("open"),t.slideDown("100",function(){o.addClass("active")})),e.stopPropagation(),e.preventDefault()}),t.$body.on("click",".quick_cart",function(){return!(!goya_theme_vars.settings.is_cart&&!goya_theme_vars.settings.is_checkout&&"mini-cart"==goya_theme_vars.settings.cart_icon)||(n("play"),t.customScrollBars(),!1)}),t.$body.on("wc_fragments_refreshed added_to_cart",function(){$(".et-close").on("click",function(){return n("reverse"),r("reverse"),!1})}),t.$body.on("click","#et-shop-filters",function(){var e;return $(window).width()<768&&((e=t.$sideFilters.find(".widgettitle")).hasClass("active")||e.parent().hasClass("widget-woof")||e.parent().hasClass("woof_sid_widget")||e.trigger("click")),r("play"),!1}),t.$clickCapture.add(t.$cc_close).on("click",function(){return i("reverse"),n("reverse"),s("reverse"),r("reverse"),!1}),t.$body.on("click",".action-icons a, .et-menu-account-btn",function(){i("reverse")})},headerPlaceholder:function(){var e=this;e.$headerHeight=e.$header.outerHeight();var t=parseInt(e.$headerSpacer.css("height"));e.$headerHeight!==t&&$(".header-spacer, .product-header-spacer").css("height",e.$headerHeight+"px")},masonryLayout:function(){var C=this,e=$(".masonry"),s=C.$body.hasClass("rtl");0!=e.length&&(Outlayer.prototype._setContainerMeasure=function(e,t){var o;void 0!==e&&((o=this.size).isBorderBox&&(e+=t?o.paddingLeft+o.paddingRight+o.borderLeftWidth+o.borderRightWidth:o.paddingBottom+o.paddingTop+o.borderTopWidth+o.borderBottomWidth),e=Math.max(e,0),e=Math.floor(e),this.element.style[t?"width":"height"]=e+"px")},$(".masonry").each(function(){var t,d=$(this),o=d.data("layoutmode")?d.data("layoutmode"):"masonry",u=$("#"+d.data("filter")),h=$(d.data("loadmore")),p=h.closest(".et-masonry-infload-controls"),m=2,f=$(".masonry-large",d),g=$(".masonry-vertical",d),v=$(".masonry-small",d),w=$(".masonry-horizontal",d),i=!1,y=!1,b=!1;d.imagesLoaded(function(){var e=d.isotope({layoutMode:o,percentPosition:!0,itemSelector:".item",transitionDuration:"0.3s",isOriginLeft:!s,masonry:{columnWidth:".item"},hiddenStyle:{opacity:0,transform:"translateY(30px)"},visibleStyle:{opacity:1,transform:"translateY(0px)"},isInitLayout:!1});h.on("click",function(){var e=h.data("masonry-id"),t=(h.text(),"goya_portfolio_ajax_"+e),o=window[t].animation,a=window[t].aspect,i=window[t].columns,s=window[t].style,n=window[t].category,r=window[t].masonry,l=window[t].count,e=window[t].keyword,c=window[t].total_pages;return!1===b&&(b=!0,p.addClass("et-loader"),$.ajax(goya_theme_vars.ajaxUrl,{method:"POST",data:{action:"goya_portfolio_ajax",columns:i,aspect:a,animation:o,masonry:r,style:s,count:l,category:n,keyword:e,page:m},error:function(e,t,o){},complete:function(){b=!1,p.removeClass("et-loader")},success:function(e){b=!1;var t,o=$("<div>"+e+"</div>").find(".item"),a=o?o.length:0;""===e||"undefined"===e||"No More Posts"===e||"No $args array created"===e?(p.addClass("hide-btn"),p.off("click")):(t=$(o)).imagesLoaded(function(){t.appendTo(d).hide(),f=$(".masonry-large",d),g=$(".masonry-vertical",d),v=$(".masonry-small",d),w=$(".masonry-horizontal",d),d.isotope("appended",t),y=!0,C.$window.trigger("resize.masonry");var e=$(o).find(".animation").length?$(o).find(".animation"):$(o);C.animation(e),t.show(),u.find(".active a").trigger("click"),(a<l||c<=m)&&(p.addClass("hide-bt"),p.off("click")),m++})}})),!1}),e.on("layoutComplete",function(){a(),1==i&&setTimeout(function(){d.isotope("layout"),i=!1},400),d.removeClass("et-loader"),d.addClass("grid-complete")}),d.isotope(),t=_.debounce(function(){d.isotope("layout")},30),C.$window.on("scroll",t)}),C.$window.on("resize.masonry",function(){a(),i=!0});var a=function(){var e,t=(e=parseInt(d.css("marginLeft"),10),Math.abs(e)),o=".wp-post-image";f.length&&!f.hasClass("d-none")?(f.find(o).height(function(){return parseInt(f.eq(0).find(o).outerWidth(),10)+"px"}),g.length&&g.find(o).height(function(){return f.eq(0).find(o).outerWidth()+"px"}),v.length&&v.find(o).height(function(){return f.eq(0).find(o).outerWidth()/2-t+"px"}),w.length&&w.find(o).height(function(){return f.eq(0).find(o).outerWidth()/2-t+"px"})):g.length&&!g.hasClass("d-none")?(g.find(o).height(function(){return 2*g.eq(0).find(o).outerWidth()+2*t+"px"}),v.length&&v.find(o).height(function(){return g.eq(0).find(o).outerWidth()+"px"}),w.length&&w.find(o).height(function(){return g.eq(0).find(o).outerWidth()+"px"})):w.length&&!w.hasClass("d-none")&&(w.find(o).height(function(){return v.eq(0).find(o).parent().outerWidth()+"px"}),v.length&&v.find(o).height(function(){return v.eq(0).find(o).outerWidth()+"px"}))};u.length&&u.find("a").on("click",function(e){e.preventDefault();var t=$(this);if(!t.hasClass("active")||1==y){u.find(".active").removeClass("active"),t.parent("li").addClass("active"),y=!1;var o,e=d.children(".item"),a=t.data("filter");return a?e.each(function(){(o=$(this)).hasClass(a)?(d.isotope("unignore",o[0]),o.removeClass("d-none")):(d.isotope("ignore",o[0]),o.addClass("d-none"))}):(e.each(function(){d.isotope("unignore",$(this)[0])}),e.removeClass("d-none")),i=!0,d.isotope("layout"),!1}})}))},fixVH:function(e){var t=e||$(".vh-height");function o(e){e.each(function(){$(this).css({height:$(this).innerHeight()})})}t.length&&(o(t),window.addEventListener("resize",function(){o(t)}.bind(this)))},blogInfiniteScrolling:function(){var s=this,o=$(".blog-infload"),n=!1,r=!1,l=$(".et-blog-infload-controls"),c=2,d=goya_theme_vars.settings.posts_per_page;l.hasClass("button-mode")?$(".et-blog-infload-btn").on("click",function(e){var t=$(this);e.preventDefault(),!1===n&&(l.addClass("et-loader"),a(t,o))}):l.hasClass("scroll-mode")&&(r=_.debounce(function(){!1===n&&s.$window.scrollTop()+s.$window.height()+150>=o.offset().top+o.outerHeight()&&(l.addClass("et-loader"),a(!1,o,!0))},30),s.$window.on("scroll",r));var a=function(e,a,i){var t="goya_blog_ajax_params",o=window[t].category_id,t=window[t].blog_style;$.ajax(goya_theme_vars.ajaxUrl,{method:"POST",data:{action:"goya_blog_ajax",blog_style:t,category_id:o,page:c++},beforeSend:function(){n=!0,i&&s.$window.off("scroll",r)},error:function(e,t,o){},complete:function(){n=!1,l.removeClass("et-loader")},success:function(e){n=!1;var t=$("<div>"+e+"</div>").find(".blog-post"),o=t?t.length:0;""===e||"undefined"===e||"No More Posts"===e||"No $args array created"===e?(l.addClass("hide-btn"),l.off("click"),i&&s.$window.off("scroll",r)):($(t).appendTo(a).hide().imagesLoaded(function(){a.data("isotope")&&a.isotope("appended",$(t)),$(t).show();var e=$(t).find(".animation").length?$(t).find(".animation"):$(t);s.animation(e)}),d<=o?i&&s.$window.on("scroll",r):(l.addClass("hide-btn"),l.off("click"),i&&s.$window.off("scroll",r))),$(t).find(".slick")&&setTimeout(function(){s.slickCarousel($(t).find(".slick"))},100)}})}},fixedContent:function(e,t){var o=this,a=e||$(".et-fixed"),i=10+o.$adminbarHeight;if(o.$isProduct&&$(".et-product-detail").hasClass("sticky-section")){var s=$(".product-showcase.product-title-top .product_title"),n=s.length?s.outerHeight():0,r=$(".woocommerce-breadcrumb").length?$(".woocommerce-breadcrumb").outerHeight():0,l=o.$topBar.length&&o.$topBar.is(":visible")?o.$topBar.outerHeight(!0):0,c=o.$campaignBar.length&&o.$campaignBar.is(":visible")?o.$campaignBar.outerHeight(!0):0,d=$(".et-product-layout-showcase"),e=$(".product-gallery > div"),s=$(".product-showcase .summary"),u="";if(d.length&&d.hasClass("et-product-gallery-carousel"))return;t=$(".sticky-section").hasClass("sticky-summary")?(u=e,(a=s).offset().top-r-n-l-c):(u=s,(a=e).offset().top-l-c),o.$body.on("blur change",".summary select, .summary input[type=checkbox], .summary input[type=radio] ",function(){768<$(window).width()&&setTimeout(function(){u.outerHeight()<=a.outerHeight()?a.addClass("taller_no_sticky"):a.removeClass("taller_no_sticky"),$(document.body).trigger("sticky_kit:recalc")},100)}),o.$headerIsFixed||(t-=o.$headerHeight)}t?i=t:o.$isProduct&&o.$productIsFixed&&o.$productFixedTop||(i+=o.$headerHeight),o.$mobileDet.mobile()||(a.each(function(){$(this).stick_in_parent({offset_top:i,spacer:!1,recalc_every:10})}),o.$window.on("resize",_.debounce(function(){$(document.body).trigger("sticky_kit:recalc")},30)),$("#side-filters").hasClass("et-fixed")&&$("#side-filters").on("sticky_kit:bottom",function(){$(this).addClass("bottom")}).on("sticky_kit:unbottom",function(){$(this).removeClass("bottom")}))},customScrollBars:function(e){var t=e||$(".custom_scroll, #side-cart .woocommerce-mini-cart, .shop-widget-scroll .widget > ul, .shop-widget-scroll .widget:not(.widget-woof) .widgettitle + *, .shop-widget-scroll .wcapf-layered-nav, .woof_section_scrolled, .woof_container_color .woof_block_html_items");t.each(function(){$(this).perfectScrollbar({wheelPropagation:!1,suppressScrollX:!0})}),this.$window.resize(function(){o(t)});var o=function(e){e.perfectScrollbar("update")}},loginForm:function(){var t=$(".et-overflow-container");$(".register-link,.login-link").on("click",function(e){e.preventDefault();e=$(this);e.closest(".login-page-tabs").find("li").removeClass("active"),e.parent("li").addClass("active"),e.hasClass("register-link")?$(".et-form-container",t).addClass("register-active"):$(".et-form-container",t).removeClass("register-active")})},toTopBtn:function(){var e=this,t=$("#scroll_to_top");t.on("click",function(){return $("html, body").animate({scrollTop:0},400),!1}),e.$window.scroll(_.debounce(function(){100<e.$window.scrollTop()?t.addClass("active"):t.removeClass("active")},20))},animation:function(e){var t=this,o=e||$(".animation, .et-counter, .et-autotype");t.$body.addClass("et-animation-ready"),$(".animation.bottom-to-top-3d, .animation.top-to-bottom-3d").parent(":not(.slick-track)").addClass("perspective-wrap"),t.animationCtrl(o,!0),$(".vc_tta-tab a").on("click",function(){var e=$(this).attr("href"),e=$(e).find(".animation");e.length&&t.animationCtrl(e,!1)}),$(".et-portfolio-filter a").on("click",function(){t.animationCtrl(o,!1)}),t.$document.on("yith_infs_added_elem",function(){var e=$("#shop-products").find(".et-main-products").find(".product").children("div");t.animationCtrl(e,!1),setTimeout(function(){t.productListVariations(!0)},10)}),t.$window.on("scroll.et-animation",function(){t.animationCtrl(o,!0)}).trigger("scroll.et-animation")},animationCtrl:function(e,t){var o=this,a=0,i=void 0!==o.$mobileDet&&o.$mobileDet.mobile()?0:50,t=t?e.filter(":in-viewport"):e;e.hasClass("animation")&&e.parent().parent().hasClass("products")&&void 0!==o.$mobileDet&&o.$mobileDet.mobile()&&(t=e),t.each(function(){var e=$(this);e.hasClass("et-counter")?o.counter(e):e.hasClass("et-autotype")&&o.autoType(e),!0!==e.data("et-animated")&&(e.data("et-animated",!0),setTimeout(function(){e.addClass("animated")},i*a),a++)})},productQuickView:function(){var a,i=this,s=$("#et-quickview"),n=$('<div id="et-quickview-overlay" class="mfp-bg et-mfp-fade-in"><div class="dot3-loader"></div></div>'),e="",r=!1;i.$body.on("click",".et-quickview-btn",function(e){e.preventDefault();var t={product_id:a=$(this).data("product_id"),action:"goya_product_ajax"},e=wc_add_to_cart_params?wc_add_to_cart_params.wc_ajax_url.toString().replace("%%endpoint%%","goya_product_ajax"):goya_theme_vars.ajaxUrl;a&&(i.$html.css("width","auto").css("overflow","hidden"),n.appendTo(i.$body),n.addClass("show mfp-ready show-loader"),window.qv_open_product=$.ajax({type:"POST",url:e,data:t,dataType:"html",beforeSend:function(){"object"==typeof window.qv_open_product&&window.qv_open_product.abort()},error:function(e,t,o){i.$html.css("width","").css("overflow",""),n.removeClass("mfp-ready mfp-removing").remove()},success:function(e){s.html(e),o()}}))});var o=function(){var e=s.children("#product-"+a),t=e.find("form.cart"),o=$("#et-quickview-slider").length?$("#et-quickview-slider"):$(".et-qv-product-image [data-slick]:not(.woo-variation-gallery-thumbnail-slider)");o.length&&(e.hasClass("product-variable")&&(t.wc_variation_form().find(".variations select:eq(0)").change(),t.on("woocommerce_variation_select_change",function(){r&&o.slick("slickGoTo",0,!1)})),setTimeout(function(){o.closest(".loading-gallery").removeClass("loading-gallery")},600)),i.quantityButtons(),$.magnificPopup.open({mainClass:"mfp et-mfp-quickview et-mfp-zoom-in",removalDelay:280,closeMarkup:'<button title="%title%" class="mfp-close scissors-close"></button>',items:{src:s,type:"inline"},callbacks:{open:function(){n.removeClass("show-loader"),l(),i.singleProductVariations(),n.one("touchstart.qv",function(){$.magnificPopup.close()})},beforeClose:function(){n.addClass("mfp-removing")},close:function(){i.$html.css("width","").css("overflow",""),n.removeClass("mfp-ready mfp-removing").remove()}}})},l=function(){r=!1,(e=$("#et-quickview-slider").length?$("#et-quickview-slider"):$(".et-qv-product-image [data-slick]:not(.woo-variation-gallery-thumbnail-slider)")).length&&1<e.children().length&&(r=!0,i.slickCarousel($(e)),setTimeout(function(){e.slick("setPosition")},100)),i.customScrollBars()}},quickViewIsOpen:function(){return $("#et-quickview").is(":visible")},shopFilterWidgets:function(e){var t=$("#side-filters");$(".et-active-filters-count");$('a[href="#"]').click(function(e){e.preventDefault()}),this.toggleWidgets(t),this.shopActiveFiltersCount(200),$(".widget_layered_nav span.count, .widget_product_categories span.count, .widget_tag_cloud .tag-link-count").each(function(){var e=(e=$.trim($(this).html())).substring(1,e.length-1);$(this).html(e)}),1!=e&&this.shopLoopChecker()},shopActiveFiltersCount:function(e){var o=$(".et-active-filters-count"),a="";setTimeout(function(){var e=$("#side-filters").find(".wcapf-active-filters a"),t=$("#shop-products").find(".woof_products_top_panel_ul a");e.length?(a=e.length-1,o.addClass("active")):t.length?(a=t.length,o.addClass("active")):o.removeClass("active"),o.html(a)},e)},shopLoopChecker:function(){var e=this,t=$("#shop-products").find(".et-main-products");$("#shop-products").arrive(".et-main-products",function(){$("#shop-display-"+localStorage.getItem("display")).trigger("click"),e.$showListVariations&&e.productListVariations(!0),e.animation(),e.shopFilterWidgets(!0),e.customScrollBars($(".shop-widget-scroll .widget > ul, .shop-widget-scroll .widget:not(.widget-woof) .widgettitle + *, .shop-widget-scroll .wcapf-layered-nav, .woof_section_scrolled, .woof_container_color .woof_block_html_items")),$("#side-filters").removeClass("ajax-loader"),t.hasClass("masonry")&&e.masonryLayout()})},shopFiltersHeader:function(){var a=this,i=($(".shop-sidebar-header"),$("#side-filters")),s=$("#et-shop-filters-header");s.on("click",function(e){e.preventDefault();var t=i.is(":visible"),o=a.$headerHeight;a.$adminbar.length&&"fixed"==a.$adminbar.css("position")&&(o+=a.$adminbarHeight),i.slideToggle(200,function(){t?(i.removeClass("fade-in"),s.removeClass("filter-visible")):(i.addClass("fade-in"),setTimeout(function(){$("html, body").animate({scrollTop:s.offset().top-o-15},200)},200),s.addClass("filter-visible"),$(".shop-widget-scroll .widget > ul, .shop-widget-scroll .widgettitle + *, .shop-widget-scroll .wcapf-layered-nav, .woof_section_scrolled, .woof_container_color .woof_block_html_items").perfectScrollbar("update"))})}),$("#side-filters .et-close").on("click",function(e){i.removeClass("fade-in"),s.removeClass("filter-visible")})},toggleFooterWidgets:function(){var e=$(".footer-toggle-widgets");768<=$(window).width()||0==e.length||this.toggleWidgets(e)},toggleWidgets:function(e){var t=e;t.find(".widget").each(function(){var e;$(this).hasClass("widget-woof")||$(this).hasClass("widget-woof")||((e=$(this).find(".widgettitle")).find("span").length||(e.append($("<span/>")),t.hasClass("side-panel")&&!e.hasClass("collapsible")&&e.addClass("collapsible")),t.hasClass("footer-widgets")&&setTimeout(function(){e.trigger("click")},10),e.off("click").on("click",function(e){var t=$(this);t.toggleClass("active"),t.next().animate({height:"toggle",opacity:"toggle"},300)}))})},shopDisplaySwitch:function(){var r=this,l=$(".shop-display"),c=!1;l.on("click",function(e){var t=$(this),o=t.data("display"),a=(t.data("class"),$(".shop_bar .shop-filters")),i=$("#shop-products").find(".et-main-products"),s=i.find(".product").children("div"),n=r.$headerHeight;r.$adminbar.length&&"fixed"==r.$adminbar.css("position")&&(n+=r.$adminbarHeight),l.removeClass("active"),t.addClass("active"),localStorage.setItem("display",o),i.removeClass("shop_display_grid shop_display_small shop_display_list").addClass("shop_display_"+o),0==c&&("fixed"!=a.css("position")&&(n+=l.outerHeight()+10),$("html, body").animate({scrollTop:i.offset().top-n-25},200)),s.hasClass("animation")&&(s.each(function(){$(this).data("et-animated",!1),$(this).removeClass("animated"),s.removeAttr("style")}),setTimeout(function(){r.animation(s)},200)),c=!1}),"list"!=localStorage.getItem("display")&&"small"!=localStorage.getItem("display")||(c=!0,$("#shop-display-"+localStorage.getItem("display")).trigger("click"))},shopCatSeparator:function(){var e=$(".products .product-category").last();$('<div class="category-separator clearfix"></div>').insertAfter(e)},miniCartSetup:function(){var a=this;a.ajaxMiniCart&&(a.miniCartAjax=null,$("#side-cart").on("blur","input.qty",function(){var e=$(this),t=parseFloat(e.val()),o=parseFloat(e.attr("max"));""!==t&&"NaN"!==t||(t=0),"NaN"===o&&(o=""),o<t&&(e.val(o),t=o),0<t&&a.miniCartUpdate(e)}),a.$document.on("goya_quantity_change",function(e,t){a.$body.hasClass("panel-open-cart")&&a.miniCartUpdate($(t))}))},miniCartUpdate:function(e){var t=this;t.miniCartAjax&&t.miniCartAjax.abort(),e.closest("ul").addClass("loading"),e.closest("li").addClass("loading-item");var o=$("#ajax-minicart-form"),a=o.find("#_wpnonce"),i={};a.length&&(i[e.attr("name")]=e.val(),i.update_cart="1",i.minicart_qty_update="1",i._wpnonce=a.val(),t.miniCartAjax=$.ajax({type:"POST",url:o.attr("action"),data:i,dataType:"html",beforeSend:function(){},error:function(e,t,o){$("#side-cart .cart_list").removeClass("loading"),$("#side-cart .cart_list").children(".loading-item").removeClass("loading-item")},success:function(e){$(document.body).trigger("wc_fragment_refresh").trigger("updated_cart_totals")},complete:function(e){t.miniCartAjax=null}}))},ajaxAddToCart:function(){var r=this;r.$body.on("click",".add_to_cart_button",function(e){var t=$(this);t.closest(".product.type-product").addClass("cart-clicked"),"undefined"!=typeof wc_add_to_cart_params&&"yes"!=wc_add_to_cart_params.cart_redirect_after_add&&r.$body.on("added_to_cart",function(){setTimeout(function(){t.next(".added_to_cart").addClass("button"),t.next(".added_to_cart").html('<span class="text">'+goya_theme_vars.l10n.view_cart+'</span><span class="icon"><span class="et-icon et-check"></span></span>')},100)})}),$(document).on("submit","form.cart",function(e){var t=$(this),o=$(".et-product-detail"),a=t.find("button.single_add_to_cart_button"),i=t.attr("action")?t.attr("action"):window.location.href,s=t.serialize();if(s.length&&o.hasClass("single-ajax-atc")){a.attr("name")&&(s+="&"+encodeURI(a.attr("name"))+"="+encodeURI(a.attr("value")));var n=t.find("#pewc_delete_cart_key");if(!("undefined"==typeof wc_add_to_cart_params||"yes"==wc_add_to_cart_params.cart_redirect_after_add||o.hasClass("product-type-external")||a.hasClass("ywgc-add-gift-product-to-cart")||-1<window.location.href.indexOf("?switch-subscription")||n.length||a.hasClass("wa-order-button")||a.hasClass("cpb_add_to_cart_button")))return a.addClass("et-loader"),e.preventDefault(),a.attr("disabled","disabled"),$(document.body).trigger("adding_to_cart",[a,s]),$.ajax({url:i,data:s+"&goya_atc_nonce="+goya_theme_vars.settings.single_atc_nonce,method:t.attr("method")?t.attr("method").toUpperCase():"POST",success:function(e){var t=$("<div>"+e+"</div>"),o=!!t.find(".woocommerce-error, .woocommerce-info, .woocommerce-message").hasClass(".woocommerce-error");$(".woocommerce-error, .woocommerce-message, .woocommerce-info").remove();e={"#woo-notices-wrapper":t.find("#woo-notices-wrapper").prop("outerHTML"),"#minicart-panel":t.find("#minicart-panel").prop("outerHTML"),".minicart-counter":t.find(".minicart-counter").prop("outerHTML"),".free-shipping-progress-bar":t.find(".free-shipping-progress-bar").prop("outerHTML")};$.each(e,function(e,t){$(t).length&&$(e).replaceWith($(t))}),t.find(".woocommerce-message").length&&r.$body.trigger("added_to_cart",[e,"",a]),1==goya_theme_vars.settings.facebook4WC&&$(document.body).trigger("wc_fragment_refresh"),"undefined"!=typeof wc_add_to_cart_params&&"yes"===wc_add_to_cart_params.cart_redirect_after_add&&wc_add_to_cart_params.cart_url&&(window.location.href=wc_add_to_cart_params.cart_url),setTimeout(function(){$(".quick_cart").find(".minicart-counter").addClass("do-animation")},200),$("button.single_add_to_cart_button").removeAttr("disabled").removeClass("et-loader"),r.quickViewIsOpen()?($.magnificPopup.close(),o&&r.$isShop?setTimeout(function(){$("html, body").animate({scrollTop:$(".header").outerHeight()},200)},200):r.miniCartAuto&&r.$quickCartBtn.length&&setTimeout(function(){$(".quick_cart").trigger("click")},350)):o?setTimeout(function(){$(".click-capture").trigger("click"),setTimeout(function(){$("html, body").animate({scrollTop:$(".header").outerHeight()},200)},200)},500):r.miniCartAuto||setTimeout(function(){$("html, body").animate({scrollTop:$(".header").outerHeight()},200)},200),t.empty()}}),!1}})},shopCartUpdate:function(){var a=this;"undefined"!=typeof wc_add_to_cart_params&&"yes"!==wc_add_to_cart_params.cart_redirect_after_add?a.$body.on("added_to_cart",function(e,t,o){a.miniCartAuto&&!a.quickViewIsOpen()&&($(".quick_cart").trigger("click"),$("button.single_add_to_cart_button").removeAttr("disabled").removeClass("et-loader")),a.cartResetScroll("added")}):a.$document.off("click",".add_to_cart_button"),a.$body.on("wc_fragments_refreshed",function(){a.cartResetScroll("updated")}),a.$body.on("removed_from_cart",function(e,t,o){a.cartResetScroll("removed")})},cartResetScroll:function(e){var t=this;setTimeout(function(){t.customScrollBars($("#side-cart").find(".woocommerce-mini-cart"))},200)},productDetAccordion:function(){var o=$(".tabs-accordion"),e=o.find(".tab-title"),t=$(".first-tab-open");o.each(function(){e.find("a").on("click",function(e){e.preventDefault();var t=$(this).parent(),e=t.attr("aria-controls");t.hasClass("opened")?$("#"+e).slideUp("50",function(){t.removeClass("opened")}):($(o).find(".opened").removeClass("opened").next().hide(),$("#"+e).slideDown("50",function(){t.addClass("opened")}))})}),t.length&&$(".tabs-accordion > *:first-child .tab-link").trigger("click")},quantityButtons:function(){var n=this;n.$body.off("click.qtyBtn").on("click.qtyBtn",".plus, .minus",function(){var e=$(this).closest(".quantity").find(".qty"),t=parseFloat(e.val()),o=parseFloat(e.attr("max")),a=parseFloat(e.attr("min")),i=e.attr("step"),s=0;return t&&""!==t&&"NaN"!==t||(t=0),""!==o&&"NaN"!==o||(o=""),""!==a&&"NaN"!==a||(a=0),i="any"===i||""===i||void 0===i||"NaN"===parseFloat(i)?1:parseFloat(i),$(this).closest(".quantity").find("span").removeClass("disabled"),$(this).is(".plus")?o&&(o===t||o<t)?(e.val(o),$(this).addClass("disabled")):(s=t+parseFloat(i),e.val(s),o&&(o===s||o<s)&&$(this).addClass("disabled"),n.quantityTriggerChange(e)):a&&(a===t||t<a)?(e.val(a),$(this).addClass("disabled")):0<t&&(s=t-parseFloat(i),e.val(s),a&&(a===s||s<a)&&$(this).addClass("disabled"),n.quantityTriggerChange(e)),!1})},quantityTriggerChange:function(e){e.trigger("change"),this.$document.trigger("goya_quantity_change",e)},productListVariations:function(e){var t=$(".et-shop-show-variations"),d=e||"",t=t.find(".type-product.product-type-variable");t.length&&t.each(function(){var i=$(this).find("form.variations_form_loop"),o=$(this),a=$(this).find("img.main-image"),e=$(this).find("img.main-image").attr("src"),t=($(this).find("img.main-image").attr("srcset"),$("span.price",$(this)).eq(0)),s=t.html(),n=i.find(".color-variable-wrapper li, .image-variable-wrapper li"),r=i.find(".variable-items-wrapper li"),l=i.find(".variable-items-wrapper"),c=i.find("select:not(.woo-variation-raw-type-color):not(.woo-variation-raw-type-image)");i.find(".reset_variations");$(this).find("img.main-image").attr("data-src")&&(e=$(this).find("img.main-image").attr("data-src")),c.length&&n.length&&i.hasClass("autoselect-options")&&c.each(function(){0==$(this).prop("selectedIndex")&&$(this).prop("selectedIndex",1)}),l.each(function(){$(this).on("click","li",function(e){var t=$(this),o=t.data("value"),a=t.parent().parent().find("select");t.siblings().removeClass("selected"),t.addClass("selected"),a.val(o).trigger("change"),a.trigger("click"),a.trigger("focusin"),i.trigger("hide_variation")})}),d&&$(this).find("form.variations_form_loop:not(.wvs-loaded)").wc_variation_form(),i.on("hide_variation",function(e,t){i.hasClass("check-stock")&&r.each(function(e){var t=$(this),o=t.data("value");0<!t.parent().parent().find("select").find("option[value='"+o+"']").length?t.addClass("disabled"):t.removeClass("disabled")})}),i.on("click",".reset_variations",function(e){r.each(function(e){$(this).removeClass("selected")})}),i.on("show_variation",function(e,t){t.hasOwnProperty("image")&&t.image.thumb_src&&t.image.thumb_src!=a.attr("src")&&(o.addClass("hover-image-loading"),a.on("load",function(){$(this).unbind("load"),o.removeClass("hover-image-loading")}),a.attr("src",t.image.thumb_src),a.attr("srcset",""),a.attr("sizes",t.image.catalog_sizes),o.addClass("wvs-img-replaced"))}).on("reset_image",function(){t.html(s),a.attr("src",e),a.attr("srcset",""),o.removeClass("wvs-img-replaced")})})},singleProductVariations:function(){var o,e,a=this,t=$(".summary form.variations_form"),i=$("#et-quickview-slider");i.length&&(i.hasClass("slick")&&(i=$(".slick-slide:not(.slick-cloned)",i).eq(0)),o=$(".woocommerce-product-gallery__image",i).eq(0).find("img"),e=o.attr("src"),o.attr("data-src")&&(e=o.attr("data-src")),t.on("show_variation",function(e,t){t.hasOwnProperty("image")&&t.image.src&&t.image.src!=o.attr("src")&&(o.attr("src",t.image.src).attr("srcset",""),i.hasClass("slick-initialized")&&i.slick("slickGoTo",0))}).on("reset_image",function(){o.attr("src",e).attr("srcset","")})),t.on("woocommerce_variation_select_change",function(){a.$zoomEnabled&&a.singleProductZoomRefresh()}),$(document).on("woo_variation_gallery_slick_destroy",function(){var e=$(".product-information .entry-summary"),t=a.$headerHeight+e.outerHeight(),e=!(!$(".et-product-detail").hasClass("et-product-gallery-column")&&!$(".et-product-detail").hasClass("et-product-gallery-grid"));768<$(window).width()&&($(document).scrollTop()>t&&e&&$("html, body").animate({scrollTop:0},200),setTimeout(function(){$(document.body).trigger("sticky_kit:recalc")},200))}),$(document).on("woo_variation_gallery_slider_slick_init",function(){768<$(window).width()&&$(document.body).trigger("sticky_kit:recalc")})},productLightboxGallery:function(){this.$body.on("click","woocommerce-product-gallery__image a",function(e){e.preventDefault})},flexsliderGallery:function(){var a=$(".flex-control-nav"),e=$(".et-product-detail"),t=!!e.hasClass("thumbnails-vertical"),o={infinite:!1,arrows:!0,speed:600,slidesToShow:6,slidesToScroll:6,vertical:t,verticalSwiping:!0,prevArrow:'<a class="slick-prev">'+goya_theme_vars.icons.prev_arrow+"</a>",nextArrow:'<a class="slick-next">'+goya_theme_vars.icons.next_arrow+"</a>",responsive:[{breakpoint:992,settings:{vertical:!1,slidesToShow:5,slidesToScroll:5,swipe:!0}},{breakpoint:576,settings:{vertical:!1,slidesToShow:4,slidesToScroll:4,swipe:!0,verticalSwiping:!1}}]};0!=a.length&&e.hasClass("et-product-gallery-carousel")&&(6<$(".flex-control-nav li").length&&1==t&&(setTimeout(function(){a.not(".slick-initialized").slick(o)},300),a.on("afterChange",function(e,t,o){a.find(".slick-track .slick-current li img").trigger("click")})),e.hasClass("thumbnails-hover-swap")&&$(".flex-control-thumbs li img").hover(function(){$(this).click()}))},productZoomGallery:function(){this.$zoomEnabled&&$(".woocommerce-product-gallery__wrapper .woocommerce-product-gallery__image").easyZoom()},singleProductZoomRefresh:function(){var e=$(".woocommerce-product-gallery"),t=$(".woocommerce-product-gallery__image",".woocommerce-product-gallery__wrapper").eq(0),o=t.children("a").attr("href");!self.$isTouch&&e.closest(".woocommerce-product-gallery-parent").hasClass("zoom-enabled")&&o&&0<o.length&&((t=t.data("easyZoom"))&&t.swap(o))},singleProductShowcase:function(e){var t=this,o=($(".et-product-detail").find("form.cart"),0);t.$headerIsTransparent||(o+=$(".product-header-spacer").outerHeight()),t.$adminbar.length&&(o+=t.$adminbar.outerHeight(!0),t.$adminbar.outerHeight(!0)),t.$topBar.length&&(o+=t.$topBar.outerHeight(!0),t.$topBar.outerHeight(!0)),t.$campaignBar.length&&t.$campaignBar.is(":visible")&&!e&&(o+=t.$campaignBar.outerHeight(!0),t.$campaignBar.outerHeight(!0)),0<o&&$(".showcase-active").hasClass("showcase-fixed")?($(".et-product-detail.et-product-layout-no-padding:not(.et-product-gallery-column):not(.et-product-gallery-grid) .product-showcase").css("height","calc(100vh - "+o+"px)").css("min-height","auto"),$(".page-header-transparent .et-product-detail.et-product-layout-no-padding .showcase-active .entry-summary").css("height","calc(90vh - "+o+"px)")):($(".et-product-detail.et-product-layout-no-padding:not(.et-product-gallery-column):not(.et-product-gallery-grid) .product-showcase").css("height",""),$(".page-header-transparent .et-product-detail.et-product-layout-no-padding .showcase-active .entry-summary").css("height","")),setTimeout(function(){$(".showcase-active.showcase-fixed").addClass("ready")},20)},productFeaturedVideo:function(){var t=$(".et-feat-video-btn"),o=t.data("mfp-vertical");t.length&&t.on("click",function(e){e.preventDefault();e={mainClass:"et-feat-video-popup et-mfp-fade-in vertical-"+o,closeMarkup:'<button title="%title%" class="mfp-close scissors-close"></button>',removalDelay:180,type:"iframe",patterns:{youtube:{index:"youtube.com/",id:function(e){e=e.match(/[\\?\\&]v=([^\\?\\&]+)/);return e&&e[1]?e[1]:null},src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:function(e){e=e.match(/(https?:\/\/)?(www.)?(player.)?vimeo.com\/([a-z]*\/)*([0-9]{6,11})[?]?.*/);return e&&e[5]?e[5]:null},src:"//player.vimeo.com/video/%id%?autoplay=1"}},closeOnContentClick:!0};t.magnificPopup(e).magnificPopup("open")})},productCommentForm:function(){var t=this,e=$(".woocommerce-Reviews"),o=e.find("#reply-title"),a=e.find("#commentform");o.on("click",function(e){a.hasClass("opened")?a.slideUp("100",function(){a.removeClass("opened")}):(setTimeout(function(){$("html, body").animate({scrollTop:a.offset().top-t.$headerHeight-t.$adminbarHeight-20},300)},200),a.slideDown("100",function(){a.addClass("opened")}))})},relatedProductsSlider:function(){var e,t,o;1==goya_theme_vars.settings.related_slider&&(e=$(".related.products ul.et-main-products"),t=$(".up-sells ul.et-main-products"),o=$(".cross-sells ul.et-main-products"),1<t.children().length&&this.slickCarousel(t),1<o.children().length&&this.slickCarousel(o),1<e.children().length&&this.slickCarousel(e))},cartPage:function(){function e(){var e=$(".shopping-cart-content").find(".update-cart");$(".woocommerce-cart-form").on("change","input.qty",function(){e.hasClass("auto-update")&&(e.prop("disabled",!1),e.trigger("click"))})}e(),$(document.body).on("updated_cart_totals",function(){e()})},checkoutOrder:function(){var t,o=this,a=$(".before-checkout"),e=$("form.woocommerce-checkout"),i=e.find("#order_review"),s=a.height(),n=s;function r(){setTimeout(function(){var e=a.height();$("#checkout-spacer").css("min-height",e+"px"),0<e?$("#checkout-spacer").addClass("no-empty"):$("#checkout-spacer").removeClass("no-empty"),a.addClass("ready")},200)}0==i.length||e.hasClass("argmc-form")||(o.fixedContent(i,0),o.$body.on("click","#ship-to-different-address,.woocommerce-account-fields",function(e){$(document.body).trigger("sticky_kit:recalc"),$("html, body").animate({scrollTop:o.$window.scrollTop()-10},10)}),o.$body.on("payment_method_selected updated_checkout",function(){setTimeout(function(){$(document.body).trigger("sticky_kit:recalc")},200)}),r(),o.$window.on("resize",a,function(e){r()}),o.$body.on("click",".showcoupon, .showlogin",function(e){t=setInterval(function(){r()},50),setTimeout(function(){s==n&&clearInterval(t)},2e3)}),$(".et-checkout-coupon").arrive(".woocommerce-error",function(){t=setInterval(function(){r()},50)}),$("#wc-square-digital-wallet").on("show",function(){r()}),$(document.body).on("init_checkout updated_checkout payment_method_selected checkout_error",function(e,t){var o=$("form.checkout").find(".woocommerce-error, .woocommerce-info, .woocommerce-message");o.length&&$(".et-woocommerce-NoticeGroup").append(o)}),$(document.body).on("checkout_error",function(e,t){$("html, body").animate({scrollTop:$("#header").outerHeight()},200)}))},termsPopup:function(){$(document.body).off("click","a.woocommerce-terms-and-conditions-link"),this.$body.on("click",".woocommerce-terms-and-conditions-link",function(e){e.preventDefault(),$.magnificPopup.open({mainClass:"checkout-terms-popup et-mfp-fade-in",closeBtnInside:!0,closeOnBgClick:!0,closeMarkup:'<button title="%title%" class="mfp-close scissors-close"></button>',removalDelay:180,items:{src:$(".woocommerce-terms-and-conditions"),type:"inline"}})})},loginPopup:function(){this.$body.on("click",".et-menu-account-btn",function(e){return!!goya_theme_vars.settings.is_checkout||(e.preventDefault(),void $.magnificPopup.open({mainClass:"et-mfp-login-popup et-mfp-fade-in",alignTop:!1,closeBtnInside:!0,closeOnBgClick:!1,closeMarkup:'<button title="%title%" class="mfp-close scissors-close"></button>',removalDelay:180,items:{src:$("#et-login-popup-wrap"),type:"inline"}}))})},ajaxSearch:function(){var s=this;$(".goya-search .woocommerce-product-search").each(function(){var t=$(this).find(".search-field"),e=$(this).find(".search-clear"),o=$(this).find(".search-button-group"),a=$(this).find(".wc-category-select"),i=$(this).find(".autocomplete-wrapper");t.on("change paste keyup",function(e){0<t.val().length?o.addClass("text-changed"):(o.removeClass("text-changed"),1==goya_theme_vars.settings.ajaxSearchActive&&t.devbridgeAutocomplete("hide"),o.removeClass("et-loader"))}),a.on("change",function(e){t.focus()}),e.on("click",function(e){t.val(""),o.removeClass("text-changed"),1==goya_theme_vars.settings.ajaxSearchActive&&t.devbridgeAutocomplete("hide"),o.removeClass("et-loader")}),1==goya_theme_vars.settings.ajaxSearchActive&&t.devbridgeAutocomplete({minChars:3,appendTo:i,containerClass:"product_list_widget",triggerSelectOnValidInput:!1,serviceUrl:goya_theme_vars.ajaxUrl+"?action=goya_search_products_ajax",params:{category_slug:function(){return a.val()}},onSearchStart:function(){o.addClass("et-loader")},formatResult:function(e,t){return-1==e.id?'<span class="no-results">'+e.url+"</span>":-2==e.id?'<button type="submit" class="button outlined btn-sm view-all" value="'+e.value+'">'+e.url+"</button>":'<a href="'+e.url+'">'+e.thumbnail+'<span class="product-title">'+e.value+"</span>"+e.price+"</a>"},onSelect:function(e){-1===e.id&&-2===e.id||(s.$window.location.href=e.url)},onSearchComplete:function(e,t){o.removeClass("et-loader")}})}),$(".woocommerce-product-search").each(function(){$(this).on("submit",function(e){0==$(this).find(".wc-category-select").val()&&$(this).find(".wc-category-select").attr("disabled","disabled")})})},magnificInline:function(){$('[rel="inline"]').each(function(){var e=$(this),t=e.data("class")?e.data("class"):"",o=!!e.data("button-inside");e.magnificPopup({type:"inline",midClick:!0,mainClass:"et-mfp-fade-in mfp entry-content "+t,removalDelay:180,closeBtnInside:o,closeOnBgClick:!0,overflowY:"scroll",closeMarkup:'<button class="mfp-close scissors-close"></button>',callbacks:{open:function(){var e=this;"quick-search"===t&&(self.$body.removeClass("panel-open-menu"),$(".mobile-toggle").removeClass("clicked"),$("side-menu").css({marginTop:"0px"}),setTimeout(function(){$(e.content[0]).find(".search-field").focus()},100))}}})})},shopInfiniteScrolling:function(e){var l=this,a=!1,c=!1,d=!1,t=goya_theme_vars.settings.shop_infinite_load;if(l.$shopWrap.length)var i=l.$shopWrap.find(".shop-products-col");else{if(!l.$wcfmmp.length)return;i=l.$wcfmmp.find("#products-wrapper")}var o=i.find(".woocommerce-pagination a.next");if(l.shopAjax)return!1;if(!o.length||!l.$body.is(".woocommerce.archive")&&!l.$body.is(".wcfmmp-store-page"))return $(".et-shop-infload-controls").addClass("pagination-empty"),!1;"button"===t?l.$body.on("click",".et-shop-infload-btn",function(e){var t=$(this),o=i.find(".woocommerce-pagination a.next");return e.preventDefault(),!1===a&&o.length&&(c=o.attr("href"),$(".et-shop-infload-controls").addClass("et-loader"),s(t,i)),!1}):"scroll"===t&&(l.scrollInfinite=_.debounce(function(){if(!d&&!1===a&&l.$window.scrollTop()+l.$window.height()+150>=i.offset().top+i.outerHeight()){var e=i.find(".woocommerce-pagination a.next");if(!e.length)return!1;c=e.attr("href"),$(".et-shop-infload-controls").addClass("et-loader"),s(!1,i,!0)}},30),l.$window.on("scroll",l.scrollInfinite));var s=function(e,n,r){l.shopAjax=$.ajax({url:c,dataType:"html",method:"GET",beforeSend:function(){a=!0,r&&l.$window.off("scroll",l.scrollInfinite)},error:function(e,t,o){},complete:function(){a=!1,$(".et-shop-infload-controls").removeClass("et-loader")},success:function(e){var t,o,a,i=$(e).find(".main-shop-archive li.type-product"),s=goya_theme_vars.settings.shop_update_url;$(".woocommerce-pagination").html($(e).find(".woocommerce-pagination").html()),$(e).find(".woocommerce-pagination .next").length?r&&l.$window.on("scroll",l.scrollInfinite):$(".et-shop-infload-controls").addClass("hide-btn"),i.length&&(t=n.find(".main-shop-archive"),o=n.find(".woof_shortcode_output > .et-main-products"),$(e).find("form.variations_form").addClass("new-swatches"),!t.length&&o.length&&(t=o),i.appendTo(t),$("#side-filters").is(".et-fixed.bottom")&&($("#side-filters").trigger("sticky_kit:detach"),a=10+l.$adminbarHeight,a+=l.$headerHeight,setTimeout(function(){$("#side-filters").stick_in_parent({offset_top:a,spacer:!1,recalc_every:10})},20)),(1==goya_theme_vars.settings.YITH_WCWL_Premium||"undefined"!=typeof yith_wcwl_l10n&&yith_wcwl_l10n.enable_ajax_loading)&&setTimeout(function(){$(document).trigger("yith_wcwl_init")},1e3),s&&(s={url:c,innerhtml:document.body.innerHTML},window.history.pushState(s,"",c),window.onpopstate=function(e){var t=history.state;document.body.innerHTML=t.innerhtml}),t.hasClass("masonry")&&(t.isotope("appended",i),t.isotope("layout")),(i=i.find(".animation")).length&&l.animation(i),l.$showListVariations&&setTimeout(function(){l.productListVariations(!0)},10)),d=!1,l.shopAjax=!1}})}},wishlistCounter:function(){var e=$(".quick_wishlist"),t=$(".et-wishlist-counter");0!=e.length&&(this.$document.on("added_to_wishlist removed_from_wishlist",function(){void 0!==yith_wcwl_l10n.ajax_url&&$.ajax({url:yith_wcwl_l10n.ajax_url,data:{action:"yith_wcwl_update_wishlist_count"},dataType:"json",success:function(e){t.removeClass("no-blockui"),0<e.count?t.addClass("active").html(e.count):t.removeClass("active").html("")},beforeSend:function(){t.block()},complete:function(){t.unblock()}})}),goya_theme_vars.settings.ajaxWishlistCounter&&(t.addClass("no-blockui"),$("body").trigger("added_to_wishlist")))},countdownTimer:function(){$(".et-countdown").each(function(){var e=$(this),t=e.data("date"),o=e.attr("utc");e.downCount({date:t,offset:o})})},counter:function(e){(e||$(".et-counter")).each(function(){var e=$(this),t=e.find(".h1"),o=t[0],a=t.data("count"),t=t.data("speed"),i=new Odometer({el:o,value:0,duration:t,theme:"minimal"});void 0===e.data("et-in-viewport")&&(e.data("et-in-viewport",!0),setTimeout(function(){e.css("visibility","visible"),i.update(a)},.05))})},autoType:function(e){(e||$(".et-autotype")).each(function(){var e,t,o,a,i=$(this);void 0!==(e=i).data("et-in-viewport")&&!t||(e.data("et-in-viewport",!0),a=(o=e).find(".et-animated-entry"),i=a.data("strings"),t=a.data("speed")?a.data("speed"):50,e=1===a.data("et-loop"),a=1===a.data("et-cursor"),new Typed("#"+o.attr("id")+" .et-animated-entry",{strings:i,loop:e,showCursor:a,cursorChar:"|",contentType:"html",typeSpeed:t,backSpeed:20,startDelay:1e3,backDelay:1e3}))})},mfpLightbox:function(){var e=this;$(".et-lightbox").each(function(){e.$body.on("click",".et-lightbox",function(e){var t=$(this),o=t.data("mfp-type"),a={mainClass:t.data("mfp-class"),closeMarkup:'<button title="%title%" class="mfp-close scissors-close"></button>',removalDelay:180,type:o,closeBtnInside:t.data("mfp-btn-inside"),image:{titleSrc:"data-mfp-title",verticalFit:!1}};a.closeOnContentClick="inline"!=o,t.magnificPopup(a).magnificPopup("open")})})},mfpGallery:function(){$(".mfp-gallery,.wp-gallery-popup .gallery,.wp-gallery-popup .wp-block-gallery,.wp-gallery-popup .wp-block-image").each(function(){var e=$(this),t=e.find("a");e.parent().hasClass("wp-block-gallery")||(t.each(function(){var e=(e=$(this).attr("href")).split("?")[0];$(this).attr("href",e)}),/\.(?:jpg|jpeg|gif|png|webp)$/i.test(t.attr("href"))&&(t={mainClass:"et-wp-gallery-popup et-mfp-zoom-in",closeMarkup:'<button title="%title%" class="mfp-close scissors-close"></button>',removalDelay:250,delegate:"a",type:"image",gallery:{enabled:!0,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%">'+goya_theme_vars.icons.prev_arrow+"</button>",navigateByImgClick:!0,preload:[0,1]},image:{verticalFit:!0,titleSrc:function(e){return e.img.attr("alt")}},closeBtnInside:!0,overflowY:"scroll"},e.hasClass("gallery")?t.delegate=".gallery-icon > a":e.hasClass("wp-block-gallery")?t.delegate="figure > a":e.hasClass("et-image-slider")&&(t.delegate=".gallery-item > a"),e.magnificPopup(t)))})},mfpAutomatic:function(){var i=this;$(".mfp-automatic").each(function(){var e=$(this),t=e.data("class")?e.data("class"):"",o=e.data("delay")?e.data("delay"):0,a="#"+e.attr("id");e.hasClass("goya-popup")&&"1"==$.cookie("goya_popup")||setTimeout(function(){$.magnificPopup.open({type:"inline",items:{src:a,type:"inline"},midClick:!0,mainClass:"et-mfp-zoom-in mfp "+t,removalDelay:180,closeBtnInside:!0,overflowY:"scroll",closeMarkup:'<button title="%title%" class="mfp-close scissors-close"></button>',callbacks:{beforeOpen:function(){"goya-popup"==t&&i.$html.css("width","auto").css("overflow","hidden")},beforeClose:function(){i.$html.css("width","").css("overflow","")},close:function(){$.cookie("goya_popup","1",{expires:parseInt(goya_theme_vars.settings.popup_length,10),path:"/"})}}})},o)})},formStyling:function(){var e=this,t=".form-row input[type=text], .form-row input[type=password], .form-row input[type=email], .form-row input[type=number], .form-row input[type=tel], .form-row input[type=date], .form-row textarea, .form-row select, .comment-form textarea, .comment-form input[type=text], .comment-form input[type=password], .comment-form input[type=email]";function o(e){e.each(function(){$(this).val()||$(this).is("select")?$(this).closest(".form-row").addClass("has-val"):$(this).closest(".form-row").removeClass("has-val")})}$(t).each(function(){if("rating"==$(this).attr("id")||$(this).parents("form.cart").length&&!$(this).hasClass("wc-pao-addon-field")||$(this).parents(".woocommerce-checkout-payment").length||$(this).parents(".we-stock-management").length)return!1;$(this).parent().hasClass("form-row")||$(this).parents().hasClass("woocommerce-input-wrapper")||$(this).parent().hasClass("password-input")||$(this).parent().addClass("form-row"),$(this).closest(".form-row").addClass("float-label");var e=$(this).attr("placeholder"),t=$(this).closest(".form-row").find("label"),o=$(this).val(),e=void 0===e||!1===e?"":e;if($(this).hasClass("wc-pao-addon-field")){if($(this).hasClass("wc-pao-addon-image-swatch-select"))return;(t=$(this).closest(".form-row").siblings("label.wc-pao-addon-name")).length&&t.insertBefore($(this))}else t.length||""==e?t.addClass("fl-label"):$(this).before('<label for="'+$(this).attr("name")+'" class="fl-label">'+e+"</label>");(o||$(this).is("select"))&&$(this).closest(".form-row").addClass("has-val")}),e.$body.on("click",".fl-label",function(e){$(this).parent().find(".select2-hidden-accessible").select2("open"),"username_field"==$(this).parent().attr("id")&&(e.preventDefault(),$(this).parent().find("#username").focus())}),e.$body.on("focus",t,function(){$(this).closest(".form-row").addClass("has-focus")}),e.$body.on("blur change",t,function(){$(this).val();$(this).closest(".form-row").removeClass("has-focus"),o($(this)),$(this).closest("form").hasClass("checkout")&&o($(".checkout .form-row input[type=text]"))});var a=".nf-field-element input[type=text], .nf-field-element input[type=password], .nf-field-element input[type=email], .nf-field-element input[type=number], .nf-field-element input[type=tel], .nf-field-element input[type=date], .nf-field-element textarea, .nf-field-element select";e.$document.on("nfFormReady",function(e,t){$(a).each(function(){$(this).parents(".field-wrap").addClass("float-label"),($(this).val()||$(this).is("select"))&&$(this).closest(".field-wrap").addClass("has-val")})}),e.$body.on("change",a,function(){$(this).val()?$(this).closest(".field-wrap").addClass("has-val"):$(this).closest(".field-wrap").removeClass("has-val")}),e.$body.on("focus",a,function(){$(this).closest(".field-wrap").addClass("has-focus")}),e.$body.on("blur",a,function(){$(this).closest(".field-wrap").removeClass("has-focus")}),e.$body.on("updated_cart_totals",function(){jQuery("input#coupon_code").each(function(){$(this).closest(".form-row").addClass("deplace");var e=$(this).closest(".form-row").find("label");$(this).insertBefore(e),$(this).val()&&$(this).parent(".form-row").addClass("has-val")})})}};$(document).ready(function(){$("#vc_inline-anchor").length?$(window).on("vc_reload",function(){e.init()}):e.init()})}(jQuery);