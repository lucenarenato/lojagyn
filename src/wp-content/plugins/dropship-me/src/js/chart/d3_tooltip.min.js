!function(t,e){"function"==typeof define&&define.amd?define(["d3"],e):"object"==typeof module&&module.exports?module.exports=function(t){return t.tip=e(t),t.tip}:t.d3.tip=e(t.d3)}(this,function(x){return function(){var u=function(){return"n"},a=function(){return[0,0]},c=function(){return" "},n=t(),r=null,s=null,p=null;function d(t){var e;r="svg"===(e=(e=t).node()).tagName.toLowerCase()?e:e.ownerSVGElement,s=r.createSVGPoint(),document.body.appendChild(n)}d.show=function(){var t=Array.prototype.slice.call(arguments);t[t.length-1]instanceof SVGElement&&(p=t.pop());var e,n=c.apply(this,t),r=a.apply(this,t),o=u.apply(this,t),i=h(),l=m.length,f=document.documentElement.scrollTop||document.body.scrollTop,s=document.documentElement.scrollLeft||document.body.scrollLeft;for(i.html(n).style({display:"block","pointer-events":"all"}).attr("class","d3-tip"),i.append("div").attr("class","d3-tip-arrow");l--;)i.classed(m[l],!1);return e=y.get(o).apply(this),i.classed(o,!0).style({top:e.top+r[0]+f+"px",left:e.left+r[1]+s+"px"}),d},d.hide=function(){return h().style({display:"none","pointer-events":"none"}),d},d.attr=function(t,e){if(arguments.length<2&&"string"==typeof t)return h().attr(t);var n=Array.prototype.slice.call(arguments);return x.selection.prototype.attr.apply(h(),n),d},d.style=function(t,e){if(arguments.length<2&&"string"==typeof t)return h().style(t);var n=Array.prototype.slice.call(arguments);return x.selection.prototype.style.apply(h(),n),d},d.direction=function(t){return arguments.length?(u=null===t?t:x.functor(t),d):u},d.offset=function(t){return arguments.length?(a=null===t?t:x.functor(t),d):a},d.html=function(t){return arguments.length?(c=null===t?t:x.functor(t),d):c},d.destroy=function(){return n&&(h().remove(),n=null),d};var y=x.map({n:function(){var t=e();return{top:t.n.y-n.offsetHeight,left:t.n.x-n.offsetWidth/2}},s:function(){var t=e();return{top:t.s.y,left:t.s.x-n.offsetWidth/2}},e:function(){var t=e();return{top:t.e.y-n.offsetHeight/2,left:t.e.x}},w:function(){var t=e();return{top:t.w.y-n.offsetHeight/2,left:t.w.x-n.offsetWidth}},nw:function(){var t=e();return{top:t.nw.y-n.offsetHeight,left:t.nw.x-n.offsetWidth}},ne:function(){var t=e();return{top:t.ne.y-n.offsetHeight,left:t.ne.x}},sw:function(){var t=e();return{top:t.sw.y,left:t.sw.x-n.offsetWidth}},se:function(){var t=e();return{top:t.se.y,left:t.e.x}}}),m=y.keys();function t(){var t=x.select(document.createElement("div"));return t.style({position:"absolute",top:0,display:"none","pointer-events":"none","box-sizing":"border-box"}),t.node()}function h(){return null===n&&(n=t(),document.body.appendChild(n)),x.select(n)}function e(){for(var t=p||x.event.target;void 0===t.getScreenCTM&&"undefined"===t.parentNode;)t=t.parentNode;var e={},n=t.getScreenCTM(),r=t.getBBox(),o=r.width,i=r.height,l=r.x,f=r.y;return s.x=l,s.y=f,e.nw=s.matrixTransform(n),s.x+=o,e.ne=s.matrixTransform(n),s.y+=i,e.se=s.matrixTransform(n),s.x-=o,e.sw=s.matrixTransform(n),s.y-=i/2,e.w=s.matrixTransform(n),s.x+=o,e.e=s.matrixTransform(n),s.x-=o/2,s.y-=i/2,e.n=s.matrixTransform(n),s.y+=i,e.s=s.matrixTransform(n),e}return d}});